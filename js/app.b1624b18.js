(function(t){function e(e){for(var i,o,a=e[0],l=e[1],c=e[2],p=0,u=[];p<a.length;p++)o=a[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("85ec"),r=n.n(i);r.a},"4ad4":function(t,e,n){"use strict";var i=n("cd54"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("list")],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"list"}},[n("addSnippet",{attrs:{isDisabled:t.isDisabled},on:{newSnippet:t.addSnippet}}),n("div",{staticClass:"buttonList"},[n("button",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.listSnippets("latest")}}},[t._v("Get latest snippets")]),n("button",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.listSnippets("best")}}},[t._v("Get best snippets")]),n("button",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.listSnippets("reported")}}},[t._v("Get reported snippets")])]),n("h3",{staticClass:"shownList"},[t._v(t._s(t.message))]),n("div",{staticClass:"snippets"},t._l(t.snippets,(function(e){return n("div",{key:e.id,staticClass:"snippet"},[n("div",[t._v("Title:"+t._s(e.title))]),n("div",[t._v("Content:"+t._s(e.content))]),n("div",[t._v("Score: "+t._s(e.score))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.is_reported,expression:"snippet.is_reported"}]},[t._v("Reported")]),n("editSnippet",{staticClass:"editSnippet",attrs:{identifier:e.id,showUnreport:t.showUnreport,isDisabled:t.isDisabled},on:{manageSnippet:t.editSnippet}})],1)})),0)],1)},a=[],l=(n("4de4"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"addSnippet"}},[n("h1",[t._v("Add a snippet!")]),n("label",{attrs:{for:"title"}},[t._v("Title:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model.formTitle,expression:"model.formTitle"}],class:t.titleClass,attrs:{placeholder:"Enter title here...",type:"text",id:"title"},domProps:{value:t.model.formTitle},on:{blur:function(e){t.titleIsTouched=!0},input:function(e){e.target.composing||t.$set(t.model,"formTitle",e.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.titleIsTouched&&!t.titleIsValid,expression:"titleIsTouched && !titleIsValid"}],staticClass:"error"},[t._v(t._s(t.titleError))]),n("label",{attrs:{for:"tag"}},[t._v("Tag:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model.formTag,expression:"model.formTag"}],class:t.tagClass,attrs:{placeholder:"Enter a tag here...",type:"text",id:"tag"},domProps:{value:t.model.formTag},on:{blur:function(e){t.tagIsTouched=!0},input:function(e){e.target.composing||t.$set(t.model,"formTag",e.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.tagIsTouched&&!t.tagIsValid,expression:"tagIsTouched && !tagIsValid"}],staticClass:"error"},[t._v(t._s(t.tagError))]),n("label",{attrs:{for:"content"}},[t._v("Content:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.formContent,expression:"model.formContent"}],class:t.contentClass,attrs:{placeholder:"Enter content here...",id:"content"},domProps:{value:t.model.formContent},on:{blur:function(e){t.contentIsTouched=!0},input:function(e){e.target.composing||t.$set(t.model,"formContent",e.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.contentIsTouched&&!t.contentIsValid,expression:" contentIsTouched && !contentIsValid"}],staticClass:"error"},[t._v(t._s(t.contentError))]),n("button",{attrs:{disabled:t.isDisabled,type:"submit"},on:{click:t.entireFormIsValid}},[t._v("Add Snippet")]),n("h3",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"errorMessageBox"},[t._v(t._s(t.errorMsg))])])},d=[],p={name:"addSnippet",props:{isDisabled:Boolean},components:{},data:function(){return{model:{formTitle:"",formContent:"",formTag:""},error:!1,errorMsg:String,titleIsTouched:!1,tagIsTouched:!1,contentIsTouched:!1}},computed:{titleIsValid:function(){return""!=this.model.formTitle},titleClass:function(){return this.titleIsTouched?this.titleIsValid?"valid":"invalid":"pristine"},titleError:function(){return"Empty title input is not valid."},tagIsValid:function(){return""!=this.model.formTag},tagClass:function(){return this.tagIsTouched?this.tagIsValid?"valid":"invalid":"pristine"},tagError:function(){return"Empty tag input is not valid."},contentIsValid:function(){return""!=this.model.formContent},contentClass:function(){return this.contentIsTouched?this.contentIsValid?"valid":"invalid":"pristine"},contentError:function(){return"Empty content input is not valid."}},methods:{entireFormIsValid:function(){this.titleIsValid&&this.contentIsValid&&this.tagIsValid?(null!=this.errorMsg&&(this.errorMsg=null),this.$emit("newSnippet",this.model),this.model.formTitle="",this.model.formContent="",this.model.formTag="",this.titleIsTouched=!1,this.tagIsTouched=!1,this.contentIsTouched=!1):(this.errorMsg="Enter the form properly",this.error=!0,this.titleIsTouched=!0,this.tagIsTouched=!0,this.contentIsTouched=!0)}}},u=p,f=(n("71dc"),n("2877")),m=Object(f["a"])(u,c,d,!1,null,"2607f4f2",null),h=m.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"editSnippet"}},[n("button",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.removeSnippet("delete")}}},[t._v("Delete")]),t.showUnreport?t._e():n("button",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.removeSnippet("report")}}},[t._v("Report")]),t.showUnreport?n("button",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.removeSnippet("unreport")}}},[t._v("Unreport")]):t._e(),n("button",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.removeSnippet("upvote")}}},[t._v("Upvote")]),n("button",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.removeSnippet("downvote")}}},[t._v("Downvote")])])},g=[],b=(n("a9e3"),{name:"editSnippet",props:{identifier:Number,showUnreport:Boolean,isDisabled:Boolean},components:{},data:function(){return{}},methods:{removeSnippet:function(t){var e={id:this.identifier,func:t};this.$emit("manageSnippet",e)}}}),w=b,_=(n("4ad4"),Object(f["a"])(w,v,g,!1,null,null,null)),T=_.exports,S="https://www.forverkliga.se/JavaScript/api/api-snippets.php?",I={name:"list",components:{addSnippet:h,editSnippet:T},data:function(){return{message:"Latest snippets are shown below",currentList:String,showUnreport:!1,isDisabled:!1,snippets:[]}},methods:{waitingForApi:function(t){1==t?(this.message="The API is loading please wait",this.isDisabled=!0):this.isDisabled=!1},listSnippets:function(t){this.waitingForApi(!0),this.fetchSnippets(t)},fetchSnippets:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.currentList=t,n.prev=1,n.next=4,fetch(S+t,{method:"GET"});case 4:return i=n.sent,n.next=7,i.json();case 7:r=n.sent,e.showUnreport="reported"==t,e.waitingForApi(!1),e.message=t+" snippets are listed below",e.snippets=r,n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](1),e.waitingForApi(!1),e.message='Fetching "'+t+'" from API failed, please try again.';case 18:case"end":return n.stop()}}),n,null,[[1,14]])})))()},addSnippet:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.waitingForApi(!0),n.prev=1,n.next=4,e.$http.post(S,{add:"",title:t.formTitle,content:t.formContent,tags:t.formTag});case 4:i=n.sent,e.message=i.data.message+", reloading list!",e.fetchSnippets(e.currentList),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),e.message=n.t0.data.message;case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},editSnippet:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("delete"!=t.func){n.next=16;break}return e.waitingForApi(!0),n.prev=2,n.next=5,fetch(S,{method:"POST",body:new URLSearchParams("delete&id="+t.id)});case 5:e.snippets=e.snippets.filter((function(e){return e.id!=t.id})),e.waitingForApi(!1),e.message=e.currentList+" snippets are listed below",n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](2),e.waitingForApi(!1),e.message="Removing snippet failed, please try again.";case 14:n.next=27;break;case 16:return e.waitingForApi(!0),n.prev=17,n.next=20,fetch(S,{method:"POST",body:new URLSearchParams(t.func+"&id="+t.id)});case 20:e.listSnippets(e.currentList),n.next=27;break;case 23:n.prev=23,n.t1=n["catch"](17),e.message=t.func+" snippet failed, please try again.",e.waitingForApi(!1);case 27:case"end":return n.stop()}}),n,null,[[2,10],[17,23]])})))()}},mounted:function(){this.listSnippets("latest")}},x=I,y=(n("84d3"),Object(f["a"])(x,o,a,!1,null,"44fcdcd8",null)),C=y.exports,k={name:"App",components:{List:C}},D=k,O=(n("034f"),Object(f["a"])(D,r,s,!1,null,null,null)),E=O.exports,j=n("bc3a"),V=n.n(j),P=n("a7fe"),A=n.n(P);i["a"].config.productionTip=!1,i["a"].use(A.a,V.a),new i["a"]({render:function(t){return t(E)}}).$mount("#app")},"6c63":function(t,e,n){},"71dc":function(t,e,n){"use strict";var i=n("6c63"),r=n.n(i);r.a},"84d3":function(t,e,n){"use strict";var i=n("d934"),r=n.n(i);r.a},"85ec":function(t,e,n){},cd54:function(t,e,n){},d934:function(t,e,n){}});
//# sourceMappingURL=app.b1624b18.js.map